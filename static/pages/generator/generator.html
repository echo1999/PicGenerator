<!doctype html>

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <title>å¼€å§‹å›¾ç‰‡åˆæˆ</title>
  <meta name="keywords" content="css3, html5, js, background video, fullscreen video">
  <!-- CSS -->
  <link rel="stylesheet" href="generator.css" type="text/css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:400,100,300,500">
  <link rel="stylesheet" href="./form-1/assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="./form-1/assets/css/form-elements.css">
  <link rel="stylesheet" href="./form-1/assets/css/style.css">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  	<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  	<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->

  <!-- Favicon and touch icons -->
  <link rel="shortcut icon" href="./form-1/assets/ico/favicon.png">
  <link rel="apple-touch-icon-precomposed" sizes="144x144"
    href="./form-1/assets/ico/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114"
    href="./form-1/assets/ico/apple-touch-icon-114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="./form-1/assets/ico/apple-touch-icon-72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" href="./form-1/assets/ico/apple-touch-icon-57-precomposed.png">
  <script>
    try {
      Typekit.load({
        async: true
      });
    } catch (e) { }
  </script>
  <style>
    #search {
      cursor: pointer;
    }
  </style>
</head>
<script>
  (function () {
    window.alert = function (name) {
      var iframe = document.createElement("IFRAME");
      iframe.style.display = "none";
      iframe.setAttribute("src", 'data:text/plain');
      document.documentElement.appendChild(iframe);
      window.frames[0].window.alert(name);
      iframe.parentNode.removeChild(iframe);
    }
  })();

</script>

<body>
  <center>
    <div id="topBar">æ¬¢è¿è®¿é—®ï¼ŒåŸºäºäººè„¸æ£€æµ‹çš„åœºæ™¯èåˆå›¾åƒå¤„ç†è½¯ä»¶
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      ç™»å½•é¡µ&nbsp;|&nbsp;ä¸»é¡µ&nbsp;|&nbsp;åŠ å…¥æ”¶è—&nbsp;
      |&nbsp;ä¿¡æ¯åé¦ˆ&nbsp;|&nbsp;è”ç³»ç”µè¯</div>
  </center>
  <div id="container">
    <video id="background_video" loop muted></video>
    <div id="video_cover"></div>
    <div id="overlay"></div>

    <div id="main">
      <div id="left">
        <div class="tips" style="vertical-align: middle">é€‰æ‹©ç´ æ</div>

        <div id="showPic">
          <!-- <img id="showFigure" src="../../image/figure/figure1.jpg">
          <img id="resultPic" src="../../image/background/background1.jpg"> -->
        </div>
        <div id="btns">
          <div class="left_btn" id="btn_start">èåˆ</div>
          <div class="left_btn" id="btn_cartoon">æ·»åŠ è´´çº¸</div>
          <div class="left_btn" id="btn_words">æ·»åŠ æ–‡å­—æ¡†</div>
          <div class="left_btn" id="btn_save" onclick="downloadImg()">ä¿å­˜</div>
          <div class="left_btn" id="btn_restart">æ¸…ç©º</div>
        </div>
        <div id="compare-fill">
          <ul class="btn-numbox">
            <li><span class="number">å¯¹æ¯”åº¦</span></li>
            <li>
              <ul class="count">
                <li><span id="num-jian-compare" class="num-jian">-</span></li>
                <li><input type="text" class="input-num" id="input-num-compare" value="0" /></li>
                <li><span id="num-jia-compare" class="num-jia">+</span></li>
              </ul>
            </li>
            <li><span class="kucun">(æœ€å¤§å€¼:3)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
          </ul>
          <ul class="btn-numbox">
            <li><span class="number">äº®åº¦</span></li>
            <li>
              <ul class="count">
                <li><span id="num-jian-fill" class="num-jian">-</span></li>
                <li><input type="text" class="input-num" id="input-num-fill" value="0" /></li>
                <li><span id="num-jia-fill" class="num-jia">+</span></li>
              </ul>
            </li>
            <li><span class="kucun">(æœ€å¤§å€¼:255)&nbsp;&nbsp;</span></li>
          </ul>
          <!-- å¯¹æ¯”åº¦:
          <img class="compareAdd" src="../../../image/åŠ å·.png" href="#">
          <input type="text" maxlength=1 style="width:25px;">
          <img class="compareSub" src="../../../image/å‡å·.png" href="#">
          é¥±å’Œåº¦ï¼š -->
          <button id="btn_compare_fill">ç¡®å®š</button>
        </div>

        <div id="selectFilter">
          <img class="filterPic" src="../../image/filter/è¾¹ç¼˜æå–.jpg" data-key="1">
          <img class="filterPic" src="../../image/filter/è¾¹ç¼˜å¢å¼º.jpg" data-key="2">
          <img class="filterPic" src="../../image/filter/æµ®é›•.jpg" data-key="3">
          <img class="filterPic" src="../../image/filter/è½®å»“.jpg" data-key="4">
          <img class="filterPic" src="../../image/filter/æ¨¡ç³Š.jpg" data-key="5">
          <img class="filterPic" src="../../image/filter/å¹³æ»‘-kala.jpg" data-key="6">
          <img class="filterPic" src="../../image/filter/å¹³æ»‘æ»¤é•œ_åŠ å¼ºç‰ˆ.jpg" data-key="7">
          <img class="filterPic" src="../../image/filter/é”åŒ–.jpg" data-key="8">
          <img class="filterPic" src="../../image/filter/ç¼‡åº£æ«§.jpg" data-key="9">
          <img class="filterPic" src="../../image/filter/ç»†èŠ‚-notre.jpg" data-key="10">
          <img class="filterPic" src="../../image/filter/ç»„åˆ-head.jpg" data-key="11">
        </div>
      </div>
      <div id="right">
        <div class="tab tab-card">
          <!-- æ ‡ç­¾ -->
          <ul class="tab-title">
            <li class="active tabA">å›¾åƒç´ æ</li>
            <li class="tabB">äººåƒå›¾</li>
            <li class="tabC">è´è¶å›¾</li>
            <li class="tabD">è´´çº¸</li>
            <li class="tabE">æ–‡å­—æ¡†</li>
          </ul>
        </div>
        <div id="myContent">
          <div class="contentB">
            <div id="selectFigList">
              <div class="selectFig" style="background-color: rgba(241, 241, 241, 0.9);">
                <img class="selectAdd launch-modal" src="../../../image/add.png" href="#"
                  data-modal-id="modal-register-fig">
              </div>
            </div>
          </div>
          <div class="contentA">
            <div id="selectBgList">
              <div class="selectBG" style="background-color: rgba(241, 241, 241, 0.9);">
                <img class="selectAddBg launch-modal" src="../../../image/add.png" href="#"
                  data-modal-id="modal-register-bg">
              </div>
              <!-- <img class="selectBG" src="../../image/background/background1.jpg">
              <img class="selectBG" src="../../image/background/background2.jpg">
              <img class="selectBG" src="../../image/background/background2.jpg">
              <img class="selectBG" src="../../image/background/background1.jpg">
              <img class="selectBG" src="../../image/background/background1.jpg">
              <img class="selectBG" src="../../image/background/background2.jpg">
              <img class="selectBG" src="../../image/background/background2.jpg">
              <img class="selectBG" src="../../image/background/background1.jpg"> -->
            </div>
          </div>
          <div class="contentC">
            <div id="selectBfList">
              <div class="selectBf" style="background-color: rgba(241, 241, 241, 0.9);">
                <img class="selectAddBf launch-modal" src="../../../image/add.png" href="#"
                  data-modal-id="modal-register-bf">
              </div>
            </div>
          </div>
          <div class="contentD">
            <div id="selectCtList">
              <!-- <img class="selectCt" src="../../image/white_cartoon/1.jpg"> -->
              <!-- <img src="../../image/white_cartoon/1.jpg" id="showCt" onmousewheel="return bbimg(this)" ondblclick="realsize();"
                style="top:0px;left:0px;position:relative;" width="140px" height="191px"> -->
            </div>
          </div>
          <div class="contentE">
            <div id="selectWdList">

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>
  <!-- MODAL-Background -->
  <div class="modal fade" id="modal-register-bg" tabindex="-1" role="dialog" aria-labelledby="modal-register-label"
    aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="closeBg close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
          </button>
          <h3 class="modal-title" id="modal-register-label">ä¸Šä¼ èƒŒæ™¯å›¾ç‰‡</h3>
          <p>ç‚¹å‡»æµè§ˆé€‰æ‹©æœ¬åœ°èƒŒæ™¯å›¾ç‰‡ä¸Šä¼ ï¼Œç‚¹å‡»ç¡®è®¤åå³ä¸Šä¼ æˆåŠŸ</p>
        </div>
        <div class="modal-body">
          <div class="showimg">
            <img id="preview-bg" />
          </div>
          <input id="file-select-bg" type="file" name="file" onchange="imgPreviewBg(this)" style="margin: 10px;" />
          <button id="chooseBg" class="btn">ç¡®è®¤</button>
        </div>

      </div>
    </div>
  </div>
  <!-- MODAL-Figure -->
  <div class="modal fade" id="modal-register-fig" tabindex="-1" role="dialog" aria-labelledby="modal-register-label"
    aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="closeFig close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
          </button>
          <h3 class="modal-title" id="modal-register-label">ä¸Šä¼ äººåƒå›¾ç‰‡</h3>
          <p>ç‚¹å‡»æµè§ˆé€‰æ‹©æœ¬åœ°äººåƒå›¾ç‰‡ä¸Šä¼ ï¼Œç‚¹å‡»ç¡®è®¤åå³ä¸Šä¼ æˆåŠŸ</p>
        </div>

        <div class="modal-body">
          <div id="showimg-fig" class="showimg">
            <!-- <img id="preview-fig" /> -->
            <!-- <video id="video" width="182px" height="250px" autoplay="autoplay"></video>
              <canvas id="canvas" width="182px" height="250px"></canvas> -->
          </div>
          <input id="file-select-fig" type="file" name="file" onchange="imgPreviewFig(this)"
            style="margin: 5px;margin-left: 28px;" />
          <input type="button" title="å¼€å¯æ‘„åƒå¤´" value="å¼€å¯æ‘„åƒå¤´" onclick="getMedia()" style="margin:5px;" />
          <button id="snap" onclick="takePhoto()" style="margin: 5px;margin-left: 20px;width: 80px;">æ‹ç…§</button>
          <button id="chooseFig" class="btn">ç¡®è®¤</button>
        </div>

      </div>
    </div>
  </div>
  <!-- MODAL-Bf -->
  <div class="modal fade" id="modal-register-bf" tabindex="-1" role="dialog" aria-labelledby="modal-register-label"
    aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="closeBf close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
          </button>
          <h3 class="modal-title" id="modal-register-label">ä¸Šä¼ è´è¶å›¾ç‰‡</h3>
          <p>ç‚¹å‡»æµè§ˆé€‰æ‹©æœ¬åœ°è´è¶å›¾ç‰‡ä¸Šä¼ ï¼Œç‚¹å‡»ç¡®è®¤åå³ä¸Šä¼ æˆåŠŸ</p>
        </div>

        <div class="modal-body">
          <div class="showimg">
            <img id="preview-bf" />
          </div>
          <input id="file-select-bf" type="file" name="file" onchange="imgPreviewBf(this)" style="margin: 10px;" />
          <button id="chooseBf" class="btn">ç¡®è®¤</button>
        </div>

      </div>
    </div>
  </div>
  <script src="../bideo.js"></script>
  <script src="../main.js"></script>
  <script>
    if (window.location.host.indexOf('github.io') !== -1 && window.location.protocol !== "https:") {
      window.location.protocol = "https";
    }
  </script>
  <script src="./generator.js"></script>
  <script src="https://me.bigc.cc/bigsea.js"></script>
  <script src="../../packages/jquery.min.js"></script>
  <!-- æ˜¾ç¤ºã€ä¸Šä¼ èƒŒæ™¯å›¾ -->
  <script type="text/javascript">
    Sea.Ajax({
      url: '/show.bg',
      data: {
      }
    }).then(res => {
      if (res) {
        num = Number(res)
        let html = ''
        for (let i = 0; i < num; i++) {
          html += `<img class="selectBG" src="../../image/background/background${i + 1}.jpg" data-key=${i + 1}>`
        }
        // document.querySelector('#selectBgList').innerHTML = html
        Sea('#selectBgList').append(html)
      }
    })
    Sea('#selectBgList').on('click', '.selectBG', function (event) {
      // Sea('.selectBGList').on('click', function () {
      let BgNum = event.target.dataset.key
      if (BgNum != undefined) {
        Sea.Ajax({
          url: '/upload.bg',
          data: {
            selectNum: BgNum
          }
        }).then(res => {
          if (res == "ok") {
            console.log('backgroundä¸Šä¼ æˆåŠŸ')
            let html = `<img id="resultPic" src="../../image/background/background${BgNum}.jpg">`
            // document.querySelector('#showPic').innerHTML = html
            Sea('#showPic').append(html)
          }
          if (res == "exist") {
            alert("å·²é€‰æ‹©èƒŒæ™¯ç´ æï¼Œè¯·å…ˆæ¸…ç©º")
          }
        })
      }
      // Sea('.contentA').append(html)
    })

    //æ˜¾ç¤ºã€ä¸Šä¼ äººåƒç´ æ
    Sea.Ajax({
      url: '/show.fig',
      data: {
      }
    }).then(res => {
      if (res) {
        // console.log('ğŸ¸res', res)
        num = Number(res)
        // console.log('ğŸ¸num', num)
        let html = ''
        for (let i = 0; i < res; i++) {
          html += `<img class="selectFig" src="../../image/figure/figure${i + 1}.jpg" data-key=${i + 1}>`
        }
        Sea('#selectFigList').append(html)
        // document.querySelector('#selectFigList').innerHTML = html
      }
    })
    Sea('#selectFigList').on('click', '.selectFig', function (event) {
      console.log("selectFigè¿›æ¥äº†")
      // Sea('.selectBGList').on('click', function () {
      let FigNum = event.target.dataset.key
      // console.log('key', FigNum)
      if (FigNum != undefined) {
        // document.querySelector('#showPic').innerHTML = html
        Sea.Ajax({
          url: '/upload.fig1',
          data: {
            selectNum: FigNum
          }
        }).then(res => {
          if (res == "ok") {
            console.log('figureä¸Šä¼ æˆåŠŸ')
            let picSrc = "../../image/figure/figure" + FigNum + ".jpg?t=" + Date.now()
            let html = `<img id="showFigure" src=${picSrc} >`
            Sea('#showPic').prepend(html)
          }
          if (res == "exist") {
            alert("å·²é€‰æ‹©äººåƒç´ æï¼Œè¯·å…ˆæ¸…ç©º")
          }
        })
      }
    })
    //æ˜¾ç¤ºã€ä¸Šä¼ è´´çº¸å›¾
    Sea('#selectCtList').on('click', '.selectCt', function (event) {
      console.log("selectCtè¿›æ¥äº†")
      var obj = document.getElementById("resultPic")
      console.log("obj", obj)
      if (obj) {
        let CtNum = event.target.dataset.key
        if (CtNum != undefined) {
          // console.log("ctnum", ctnum)
          Sea.Ajax({
            url: '/upload.ct',
            data: {
              selectNum: CtNum
            }
          }).then(res => {
            if (res == "ok") {
              console.log('cartoonä¸Šä¼ æˆåŠŸ')
              let picSrc = "../../image/transparent_cartoon/" + CtNum + ".png?t=" + Date.now()
              let html = `
          <div id='block1' class="dragAble">
          <img src = ${picSrc} id = "showCt"
          onmousewheel = "return bbimg(this)" ondblclick="realsize();"
          style = "top:0px;left:0px;">
          </div>`
              console.log("html", html)
              Sea('#showPic').prepend(html)
            }
            if (res == "exist") {
              alert("å·²é€‰æ‹©è´´çº¸ç´ æï¼Œè¯·å…ˆæ¸…ç©º")
            }
          })
        }
      } else {
        alert("è¯·åœ¨èåˆå›¾ç‰‡åé€‰æ‹©è´´çº¸")
      }
    })
    // æ˜¾ç¤ºã€ä¸Šä¼ æ–‡å­—æ¡†å›¾
    Sea('#selectWdList').on('click', '.selectWd', function (event) {
      console.log("selectWdè¿›æ¥äº†")
      var obj = document.getElementById("resultPic")
      console.log("obj", obj)
      if (obj) {
        let WdNum = event.target.dataset.key
        if (WdNum != undefined) {
          // console.log("ctnum", ctnum)
          Sea.Ajax({
            url: '/upload.wd',
            data: {
              selectNum: WdNum
            }
          }).then(res => {
            if (res == "ok") {
              console.log('wordsä¸Šä¼ æˆåŠŸ')
              let picSrc = "../../image/transparent_words/" + WdNum + ".png?t=" + Date.now()
              let html = `
          <div id='block2' class="dragAble">
          <img src = ${picSrc} id = "showWd"
          onmousewheel = "return bbimg(this)" ondblclick="realsize();"
          style = "top:0px;left:0px;">
          </div>`
              console.log("html", html)
              Sea('#showPic').prepend(html)
            }
            if (res == "exist") {
              alert("å·²é€‰æ‹©æ–‡å­—æ¡†ç´ æï¼Œè¯·å…ˆæ¸…ç©º")
            }
          })
        }
      } else {
        alert("è¯·åœ¨èåˆå›¾ç‰‡åé€‰æ‹©æ–‡å­—æ¡†")
      }
    })
    //æ˜¾ç¤ºã€ä¸Šä¼ è´è¶å›¾
    Sea.Ajax({
      url: '/show.bf',
      data: {
      }
    }).then(res => {
      if (res) {
        console.log('ğŸ¸res', res)
        num = Number(res)
        console.log('ğŸ¸num', num)
        let html = ''
        for (let i = 0; i < res; i++) {
          html += `<img class="selectBf" src="../../image/white_butterfly/butterfly${i + 1}.jpg" data-key=${i + 1}>`
        }
        Sea('#selectBfList').append(html)
        // document.querySelector('#selectFigList').innerHTML = html
      }
    })
    //æ˜¾ç¤ºã€ä¸Šä¼ è´´çº¸å›¾
    Sea.Ajax({
      url: '/show.ct',
      data: {
      }
    }).then(res => {
      if (res) {
        // console.log('ğŸ¸res', res)
        num = Number(res)
        // console.log('ğŸ¸num', num)
        let html = ''
        for (let i = 0; i < res; i++) {
          html += `<img class="selectCt" src="../../image/white_cartoon/${i + 1}.jpg" data-key=${i + 1}>`
        }
        Sea('#selectCtList').append(html)
        // document.querySelector('#selectFigList').innerHTML = html
      }
    })
    //æ˜¾ç¤ºã€ä¸Šä¼ æ–‡å­—æ¡†å›¾
    Sea.Ajax({
      url: '/show.wd',
      data: {
      }
    }).then(res => {
      if (res) {
        // console.log('ğŸ¸res', res)
        num = Number(res)
        // console.log('ğŸ¸num', num)
        let html = ''
        for (let i = 0; i < res; i++) {
          html += `<img class="selectWd" src="../../image/white_words/${i + 1}.jpg" data-key=${i + 1}>`
        }
        Sea('#selectWdList').append(html)
        // document.querySelector('#selectFigList').innerHTML = html
      }
    })
    Sea('#selectBfList').on('click', '.selectBf', function (event) {
      // Sea('.selectBGList').on('click', function () {

      let BfNum = event.target.dataset.key
      if (BfNum != undefined) {
        console.log('BfNum', BfNum)
        Sea.Ajax({
          url: '/upload.bf',
          data: {
            selectNum: BfNum
          }
        }).then(res => {
          if (res == "ok") {
            if (BfNum == 14) {
              let html = `
          <div id="introduce">
            <div class="bfIntroduce">
            è“é—ªè¶<br>(Morpho menelaus)<br>
            è´è¶ç§‘é—ªè¶ä¸­æœ€å¤§çš„ä¸€ä¸ªç‰©ç§ï¼Œæ˜¯ä¸€ç§çƒ­å¸¦è´è¶ã€‚è“è‰²ç¿…è†€ååˆ†ç»šä¸½ï¼Œé•¿çº¦15cmã€‚æˆå¹´é›Œç¢Ÿçš„ç¿…è†€ä¸Šè¡¨é¢å‘ˆè“è‰²ï¼Œä¸‹è¡¨é¢ä¸æ ‘å¶ååˆ†ç›¸ä¼¼ï¼Œå‘ˆç°æ–‘é©³çš„æ£•è‰²ã€ç°è‰²ã€é»‘è‰²ã€‚
            </div>
            <video id="resultVideo" controls>
              <source src="../../packages/butterfly14.mp4" type="video/mp4">
            </video>
            <div class="left_btn" id="btn_add" style="margin-top: 10px;" >æ·»åŠ è´è¶</div>
          </div>`
              document.querySelector('#showPic').innerHTML = html
              Sea('#btn_add').on('click', function () {
                console.log('ğŸ¸æŒ‰ä¸‹äº†add')
                Sea.Ajax({
                  url: '/upload.temp',
                  data: {
                  }
                }).then(res => {
                  if (res == "0") {
                    alert("è¯·å…ˆé€‰æ‹©è´è¶")
                  }
                  if (res == "3") {
                    let src1 = "../../image/temp/figure.jpg?t=" + Date.now()
                    let src2 = "../../image/transparent_butterfly/butterfly14.png?t=" + Date.now()
                    let src3 = "../../image/temp/background.jpg?t=" + Date.now()
                    let html = `
            <img id="showFigure" src=${src1}>
            <img id="showBf" src=${src2}>
            <img id="resultPic" src=${src3}>
            `
                    document.querySelector('#showPic').innerHTML = html
                  }
                  else {
                    if (res == "bf") {
                      let html = `
            <img id="showBf" src="../../image/transparent_butterfly/butterfly14.jpg">
            `
                      document.querySelector('#showPic').innerHTML = html
                    }
                    if (res == "bg") {
                      let src = "../../image/temp/background.jpg?t=" + Date.now()
                      let html = `
            <img id="showBf" src="../../image/transparent_butterfly/butterfly14.jpg">
            <img id="resultPic" src=${src}>
            `
                      document.querySelector('#showPic').innerHTML = html
                    }
                    if (res == "figure") {
                      let src = "../../image/temp/figure.jpg?t=" + Date.now()
                      let html = `
            <img id="showFigure" src=${src}>
            <img id="showBf" src="../../image/transparent_butterfly/butterfly14.jpg">
            `
                      document.querySelector('#showPic').innerHTML = html
                    }
                  }
                })
              })
            }
            else {
              let html = `<img id="showBf" src="../../image/transparent_butterfly/butterfly${BfNum}.png">`
              // document.querySelector('#showPic').innerHTML = html
              Sea('#showPic').prepend(html)
            }
          }
          if (res == "exist") {
            alert("å·²é€‰æ‹©è´è¶ç´ æï¼Œè¯·å…ˆæ¸…ç©º")
          }
        })
      }


    })
    Sea('#selectFilter').on('click', '.filterPic', function (event) {
      let FilterNum = event.target.dataset.key
      console.log('FilterNum', FilterNum)
      Sea.Ajax({
        url: '/filter',
        data: {
          selectNum: FilterNum
        }
      }).then(res => {
        if (res == "none") {
          alert("è¯·å…ˆèåˆå›¾ç‰‡")
        }
        if (res == "ok") {
          // console.log('ğŸ¸è¯¥æ˜¾ç¤ºæ–°å›¾äº†')
          Sea('#selectFilter .filterPic').removeClass('active')
          Sea(event.target).addClass('active')
          let src = "../../image/resultPic/filterPic.jpg?t=" + Date.now()
          let html = `<img id="resultPic" src=${src} >`
          document.querySelector('#showPic').innerHTML = html
        }
      })
    })
    Sea('#btn_start').on('click', function () {
      console.log('ğŸ¸æŒ‰ä¸‹äº†start')
      Sea.Ajax({
        url: '/show.result',
        data: {
        }
      }).then(res => {
        if (res == "hasBf") {
          console.log('å›¾ç‰‡èåˆæˆåŠŸ')
          let html = ''
          let src = "../../image/resultPic/mixPic2.jpg?t=" + Date.now()
          html += `<img id="resultPic" src=${src} >`
          document.querySelector('#showPic').innerHTML = html
        } else {
          let html = ''
          let src = "../../image/resultPic/mixPic1.jpg?t=" + Date.now()
          html += `<img id="resultPic" src=${src} >`
          document.querySelector('#showPic').innerHTML = html
        }
      })
    })
  </script>
  <script type="text/javascript">
    Sea('#btn_restart').on('click', function () {
      console.log('ğŸ¸æŒ‰ä¸‹äº†restart')
      document.getElementById('showPic').innerHTML = "";
      Sea.Ajax({
        url: '/show.reStart',
        data: {
        }
      }).then(res => {
        if (res == "ok") {
          console.log('æ–‡ä»¶å¤¹æ¸…ç©ºæˆåŠŸ')
        }
      })
    })
    function downloadImg() {
      console.log('ğŸ¸saveè¿›æ¥äº†')
      var img = document.getElementById('resultPic'); // è·å–è¦ä¸‹è½½çš„å›¾ç‰‡
      var url = img.src;                            // è·å–å›¾ç‰‡åœ°å€
      var a = document.createElement('a');          // åˆ›å»ºä¸€ä¸ªaèŠ‚ç‚¹æ’å…¥çš„document
      var event = new MouseEvent('click')           // æ¨¡æ‹Ÿé¼ æ ‡clickç‚¹å‡»äº‹ä»¶
      a.download = 'èåˆå›¾'                  // è®¾ç½®aèŠ‚ç‚¹çš„downloadå±æ€§å€¼
      a.href = url;                                 // å°†å›¾ç‰‡çš„srcèµ‹å€¼ç»™aèŠ‚ç‚¹çš„href
      a.dispatchEvent(event)                        // è§¦å‘é¼ æ ‡ç‚¹å‡»äº‹ä»¶
    }
  </script>

  <script type="text/javascript">
    Sea('#chooseBg').on('click', function () {
      console.log('ğŸ¸æŒ‰ä¸‹äº†chooseBg')
      Sea('button.closeBg').click()
      Sea.Ajax({
        url: 'https://api.bigc.cc/v3/uptoken',
      }).then((res) => {
        console.log('res', res)
        const file = Sea('#file-select-bg').dom.files[0]
        console.log('file', file)
        if (file) {
          Sea.upload(file, res.uptoken, function (name, event) {
            // console.log("name",name)
            if (event.key != undefined) {
              let picSrc = "https://cdn.bigc.cc/" + event.key
              Sea.Ajax({
                url: '/upload.bg2',
                data: {
                  picSrc: picSrc,
                }
              }).then(res => {
                if (res == "ok") {
                  console.log("å›¾ç‰‡å·²ç»ä¸‹è½½æˆåŠŸï¼Œè¿”å›å›¾ç‰‡ï¼")
                  // let src = "../../image/resultPic/filterPic.jpg?t=" + Date.now()
                  // let html = `<img id="resultPic" src=${src} >`
                  let picSrc = "../../image/temp/background.jpg?t=" + Date.now()
                  let html = `<img id="resultPic" src=${picSrc}>`
                  Sea('#showPic').prepend(html)
                }
                else {
                  alert("å·²é€‰æ‹©èƒŒæ™¯ç´ æï¼Œè¯·å…ˆæ¸…ç©º")
                }
              })
            }
          })
        }
      })
    })
  </script>

  <script type="text/javascript">
    Sea('#chooseFig').on('click', function () {
      console.log('ğŸ¸æŒ‰ä¸‹äº†chooseFig')
      Sea('button.closeFig').click()
      Sea.Ajax({
        url: 'https://api.bigc.cc/v3/uptoken',
      }).then((res) => {
        console.log('res', res)
        const file = Sea('#file-select-fig').dom.files[0]
        console.log('file', file)
        if (file) {
          Sea.upload(file, res.uptoken, function (name, event) {
            // console.log("name",name)
            if (event.key != undefined) {
              let picSrc = "https://cdn.bigc.cc/" + event.key
              Sea.Ajax({
                url: '/upload.fig2',
                data: {
                  picSrc: picSrc,
                }
              }).then(res => {
                if (res == "ok") {
                  console.log("å›¾ç‰‡å·²ç»ä¸‹è½½æˆåŠŸï¼Œè¿”å›å›¾ç‰‡ï¼")
                  // let src = "../../image/resultPic/filterPic.jpg?t=" + Date.now()
                  // let html = `<img id="resultPic" src=${src} >`
                  let picSrc = "../../image/temp/figure.jpg?t=" + Date.now()
                  let html = `<img id="showFigure" src=${picSrc}>`
                  Sea('#showPic').prepend(html)
                }
                else {
                  alert("å·²é€‰æ‹©äººåƒç´ æï¼Œè¯·å…ˆæ¸…ç©º")
                }
              })
            }
          })
        }
      })
    })
  </script>

  <script type="text/javascript">
    Sea('#chooseBf').on('click', function () {
      console.log('ğŸ¸æŒ‰ä¸‹äº†chooseBf')
      Sea('button.closeBf').click()
      Sea.Ajax({
        url: 'https://api.bigc.cc/v3/uptoken',
      }).then((res) => {
        // log(res)
        const file = Sea('#file-select-bf').dom.files[0]
        // log(file)
        if (file) {
          Sea.upload(file, res.uptoken, function (name, event) {
            // console.log("name",name)
            if (event.key != undefined) {
              let picSrc = "https://cdn.bigc.cc/" + event.key
              Sea.Ajax({
                url: '/upload.bf2',
                data: {
                  picSrc: picSrc,
                }
              }).then(res => {
                if (res == "ok") {
                  console.log("å›¾ç‰‡å·²ç»ä¸‹è½½æˆåŠŸï¼Œè¿”å›å›¾ç‰‡ï¼")
                  // let src = "../../image/resultPic/filterPic.jpg?t=" + Date.now()
                  // let html = `<img id="resultPic" src=${src} >`
                  let picSrc = "../../image/temp/butterfly.jpg?t=" + Date.now()
                  let html = `<img id="selectBf" src=${picSrc}>`
                  Sea('#showPic').prepend(html)
                }
                else {
                  alert("å·²é€‰æ‹©è´è¶ç´ æï¼Œè¯·å…ˆæ¸…ç©º")
                }
              })
            }
          })
        }
      })
    })
  </script>
  <script type="text/javascript">
    Sea('.contentA,.contentB,.contentC,.contenttD,.contentE').hide()
    Sea('.contentA').show()
    Sea('.tab-title').on('click', 'li', function (event) {
      Sea('.tab-title li').removeClass('active')
      Sea(event.target).addClass('active')
      Sea('.contentA,.contentB,.contentC,.contentD,.contentE').hide()
      if (Sea(event.target).hasClass('tabA')) {
        // console.log('ğŸ¸contentAåº”è¯¥æ˜¾ç¤ºäº†')
        Sea('.contentA').show()
      }
      if (Sea(event.target).hasClass('tabB')) {
        // console.log('ğŸ¸contentBåº”è¯¥æ˜¾ç¤ºäº†')
        Sea('.contentB').show()
      }
      if (Sea(event.target).hasClass('tabC')) {
        // console.log('ğŸ¸contentCåº”è¯¥æ˜¾ç¤ºäº†')
        Sea('.contentC').show()
      }
      if (Sea(event.target).hasClass('tabD')) {
        Sea('.contentD').show()
      }
      if (Sea(event.target).hasClass('tabE')) {
        Sea('.contentE').show()
      }
    })
  </script>
  <!-- Javascript -->

  <script src="https://unpkg.com/qiniu-js@2.5.4/dist/qiniu.min.js"></script>
  <script src="./form-1/assets/js/jquery-1.11.1.min.js"></script>
  <script src="./form-1/assets/bootstrap/js/bootstrap.min.js"></script>
  <script src="./form-1/assets/js/jquery.backstretch.min.js"></script>
  <script src="./form-1/assets/js/scripts.js"></script>
  <script>
    function imgPreviewBg(fileDom) {
      log('fileDom', fileDom)
      //åˆ¤æ–­æ˜¯å¦æ”¯æŒFileReader
      if (window.FileReader) {
        var reader = new FileReader();
      } else {
        alert("æ‚¨çš„è®¾å¤‡ä¸æ”¯æŒå›¾ç‰‡é¢„è§ˆåŠŸèƒ½ï¼Œå¦‚éœ€è¯¥åŠŸèƒ½è¯·å‡çº§æ‚¨çš„è®¾å¤‡ï¼");
      }

      //è·å–æ–‡ä»¶
      var file = fileDom.files[0];
      log('fileDom.files[0]:', file)
      var imageType = /^image\//;
      //æ˜¯å¦æ˜¯å›¾ç‰‡
      if (!imageType.test(file.type)) {
        alert("è¯·é€‰æ‹©å›¾ç‰‡ï¼");
        return;
      }
      //è¯»å–å®Œæˆ
      // reader.readAsDataURL(file)
      reader.onload = function (e) {
        //è·å–å›¾ç‰‡dom
        var img = document.getElementById("preview-bg");
        //å›¾ç‰‡è·¯å¾„è®¾ç½®ä¸ºè¯»å–çš„å›¾ç‰‡
        img.src = e.target.result;
      };
      reader.readAsDataURL(file);
    }
  </script>
  <script>
    function imgPreviewFig(fileDom) {
      let html = `<img id="preview-fig" />`
      document.querySelector('#showimg-fig').innerHTML = html
      log('fileDom', fileDom)
      //åˆ¤æ–­æ˜¯å¦æ”¯æŒFileReader
      if (window.FileReader) {
        var reader = new FileReader();
      } else {
        alert("æ‚¨çš„è®¾å¤‡ä¸æ”¯æŒå›¾ç‰‡é¢„è§ˆåŠŸèƒ½ï¼Œå¦‚éœ€è¯¥åŠŸèƒ½è¯·å‡çº§æ‚¨çš„è®¾å¤‡ï¼");
      }

      //è·å–æ–‡ä»¶
      var file = fileDom.files[0];
      log('fileDom.files[0]:', file)
      var imageType = /^image\//;
      //æ˜¯å¦æ˜¯å›¾ç‰‡
      if (!imageType.test(file.type)) {
        alert("è¯·é€‰æ‹©å›¾ç‰‡ï¼");
        return;
      }
      //è¯»å–å®Œæˆ
      // reader.readAsDataURL(file)
      reader.onload = function (e) {
        //è·å–å›¾ç‰‡dom
        var img = document.getElementById("preview-fig");
        // log('preview', preview)
        //å›¾ç‰‡è·¯å¾„è®¾ç½®ä¸ºè¯»å–çš„å›¾ç‰‡
        img.src = e.target.result;
        // preview.innerHTML = '<img src="' + this.preview + '" alt=""/>'
        log('img.src', img.src)
      };
      reader.readAsDataURL(file);
    }
  </script>
  <script>
    function imgPreviewBf(fileDom) {
      log('fileDom', fileDom)
      //åˆ¤æ–­æ˜¯å¦æ”¯æŒFileReader
      if (window.FileReader) {
        var reader = new FileReader();
      } else {
        alert("æ‚¨çš„è®¾å¤‡ä¸æ”¯æŒå›¾ç‰‡é¢„è§ˆåŠŸèƒ½ï¼Œå¦‚éœ€è¯¥åŠŸèƒ½è¯·å‡çº§æ‚¨çš„è®¾å¤‡ï¼");
      }

      //è·å–æ–‡ä»¶
      var file = fileDom.files[0];
      log('fileDom.files[0]:', file)
      var imageType = /^image\//;
      //æ˜¯å¦æ˜¯å›¾ç‰‡
      if (!imageType.test(file.type)) {
        alert("è¯·é€‰æ‹©å›¾ç‰‡ï¼");
        return;
      }
      //è¯»å–å®Œæˆ
      // reader.readAsDataURL(file)
      reader.onload = function (e) {
        //è·å–å›¾ç‰‡dom
        var img = document.getElementById("preview-bf");
        // log('preview', preview)
        //å›¾ç‰‡è·¯å¾„è®¾ç½®ä¸ºè¯»å–çš„å›¾ç‰‡
        img.src = e.target.result;
        // preview.innerHTML = '<img src="' + this.preview + '" alt=""/>'
        log('img.src', img.src)
      };
      reader.readAsDataURL(file);
    }
  </script>

  <!-- è°ƒèŠ‚å¯¹æ¯”åº¦ -->
  <script>
    var num_jia_compare = document.getElementById("num-jia-compare");
    var num_jian_compare = document.getElementById("num-jian-compare");
    var input_num_compare = document.getElementById("input-num-compare");

    num_jia_compare.onclick = function () {
      if (input_num_compare.value < 3) {
        // input_num_compare.value = parseFloat(input_num_compare.value) + 0.1;
        var a = Number(input_num_compare.value)
        var b = Number(a + 0.1)
        // log('input_num_compare.value:', typeof (a))
        input_num_compare.value = b.toFixed(1);
        // log('input_num_compare.value', input_num_compare.value)
      } else {
        input_num_compare.value = 3;
      }
    }

    num_jian_compare.onclick = function () {

      if (input_num_compare.value <= 0) {
        input_num_compare.value = 0;
      } else {
        var a = Number(input_num_compare.value)
        var b = Number(a - 0.1)
        // log('input_num_compare.value:', typeof (a))
        input_num_compare.value = b.toFixed(1);
        // log('input_num_compare.value', input_num_compare.value)
      }

    }
  </script>

  <!-- è°ƒèŠ‚é¥±å’Œåº¦ -->
  <script>
    var num_jia_fill = document.getElementById("num-jia-fill");
    var num_jian_fill = document.getElementById("num-jian-fill");
    var input_num_fill = document.getElementById("input-num-fill");

    num_jia_fill.onclick = function () {
      if (input_num_fill.value < 255) {

        input_num_fill.value = parseInt(input_num_fill.value) + 5;
      } else {
        input_num_fill.value = 255;
      }
    }

    num_jian_fill.onclick = function () {

      if (input_num_fill.value <= 0) {
        input_num_fill.value = 0;
      } else {
        input_num_fill.value = parseInt(input_num_fill.value) - 5;
      }

    }

		/* å¦‚æœåœ¨å’Œåå°åšæ•°æ®äº¤äº’æ—¶ï¼Œå‡ºç°ç‚¹å‡»åŠ å‡æŒ‰é’®çš„å€¼æ— æ³•ä¼ åˆ°åå°çš„æƒ…å†µï¼Œå¯ä»¥ç”¨ä¸‹é¢è¿™ç§æ–¹å¼
		$("body").on("click", ".num-jian", function(m) {
			var obj = $(this).closest("ul").find(".input-num");
			if(obj.val() <= 0) {
			     obj.val(0);
			} else {
			     obj.val(parseInt(obj.val()) - 1);
			}
			obj.change();
		 });

		$("body").on("click", ".num-jia", function(m) {
			var obj = $(this).closest("ul").find(".input-num");
			obj.val(parseInt(obj.val()) + 1);
			obj.change();
		});*/
  </script>

  <script>
    Sea('#btn_compare_fill').on('click', function () {
      var input_num_compare = document.getElementById("input-num-compare")
      let compareNum = input_num_compare.value
      var input_num_fill = document.getElementById("input-num-fill")
      let fillNum = input_num_fill.value

      Sea.Ajax({
        url: '/show.compareFill',
        data: {
          compareNum: compareNum,
          fillNum: fillNum
        }
      }).then(res => {
        if (res == "ok") {
          let src = "../../image/resultPic/compareFill.jpg?t=" + Date.now()
          let html = `<img id="resultPic" src=${src} >`
          document.querySelector('#showPic').innerHTML = html
        }
        if (res == "0") {
          alert("è¯·å…ˆèåˆå›¾ç‰‡ï¼Œå†è°ƒæ•´å¯¹æ¯”åº¦/äº®åº¦")
        }
      })
    })
  </script>

  <!-- æ‹ç…§ -->
  <script>

    var img = document.getElementById("img");

    function getMedia() {
      let html = `	<video id="video" width="182px" height="250px" autoplay="autoplay"></video>
	                <canvas id="canvas" width="182px" height="250px"></canvas>`
      document.querySelector('#showimg-fig').innerHTML = html
      let constraints = {
        video: { width: 182, height: 250 },
        audio: false
      };
      //è·å¾—videoæ‘„åƒå¤´åŒºåŸŸ
      let video = document.getElementById("video");
      //è¿™é‡Œä»‹ç»æ–°çš„æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ª Promiseå¯¹è±¡
      // è¿™ä¸ªPromiseå¯¹è±¡è¿”å›æˆåŠŸåçš„å›è°ƒå‡½æ•°å¸¦ä¸€ä¸ª MediaStream å¯¹è±¡ä½œä¸ºå…¶å‚æ•°
      // then()æ˜¯Promiseå¯¹è±¡é‡Œçš„æ–¹æ³•
      // then()æ–¹æ³•æ˜¯å¼‚æ­¥æ‰§è¡Œï¼Œå½“then()å‰çš„æ–¹æ³•æ‰§è¡Œå®Œåå†æ‰§è¡Œthen()å†…éƒ¨çš„ç¨‹åº
      // é¿å…æ•°æ®æ²¡æœ‰è·å–åˆ°
      let promise = navigator.mediaDevices.getUserMedia(constraints);
      promise.then(function (MediaStream) {

        mediaStreamTrack = MediaStream.getTracks()[0];

        video.srcObject = MediaStream;
        video.play();

      });
    }

    function takePhoto() {
      //è·å¾—Canvaså¯¹è±¡
      let video = document.getElementById("video");
      let canvas = document.getElementById("canvas");
      let ctx = canvas.getContext('2d');
      ctx.drawImage(video, 0, 0, 182, 250);

      let imgSrc = canvas.toDataURL("image/jpg");
      // console.log("img.src",img.src)
      var a = document.createElement('a')
      var event = new MouseEvent('click')
      a.setAttribute("href", imgSrc);
      a.setAttribute("download", "æ‹ç…§.jpg")

      a.dispatchEvent(event)
      mediaStreamTrack && mediaStreamTrack.stop();
    }

  </script>
  <!-- <script src="http://apps.bdimg.com/libs/jquery/1.6.2/jquery.min.js"></script> -->

  <script type="text/javascript">
    /*é¼ æ ‡å°†å›¾ç‰‡åœ¨ç›¸åº”çš„divè‡ªç”±æ‹–åŠ¨*/
    drag = 0;
    move = 0;
    var ie = document.all;
    var nn6 = document.getElementById && !document.all;
    var isdrag = false;
    var y, x;
    var oDragObj;
    var pic_width, pic_height, pic_zoom;
    var divleft, divtop;

    function moveMouse(e) {
      if (isdrag) {
        oDragObj.style.top = (nn6 ? nTY + e.clientY - y : nTY + event.clientY - y) + "px";
        oDragObj.style.left = (nn6 ? nTX + e.clientX - x : nTX + event.clientX - x) + "px";
        return false;
      }
    }

    function initDrag(e) {
      var oDragHandle = nn6 ? e.target : event.srcElement;
      var topElement = "HTML";
      while (oDragHandle.tagName != topElement && oDragHandle.className != "dragAble") {
        oDragHandle = nn6 ? oDragHandle.parentNode : oDragHandle.parentElement;
      }
      if (oDragHandle.className == "dragAble") {
        isdrag = true;
        oDragObj = oDragHandle;
        nTY = parseInt(oDragObj.style.top + 0);
        y = nn6 ? e.clientY : event.clientY;
        nTX = parseInt(oDragObj.style.left + 0);
        x = nn6 ? e.clientX : event.clientX;
        document.onmousemove = moveMouse;
        return false;
      }
    }
    document.onmousedown = initDrag;
    document.onmouseup = new Function("isdrag=false");

    /*é¼ æ ‡æ»‘è½®æ§åˆ¶å›¾ç‰‡æ”¾å¤§ç¼©å°*/
    $(document).ready(function () {
      if (window.addEventListener) {
        window.addEventListener('DOMMouseScroll', wheel, false);//ç»™firefoxæ·»åŠ é¼ æ ‡æ»šåŠ¨äº‹ä»¶ï¼Œå› ä¸ºç«ç‹æ²¡æœ‰wheeläº‹ä»¶
      }
    });

    function wheel(event) {
      if (!event) /**//* For IE. */ {
        event = window.event;
      }
      else if (event.detail) {
        var height1 = $("#showCt").attr("height");

        if (!height1) {
          height1 = height1.substring(0, height1.length - 2);

        }
        var width1 = $("#showCt").attr("width");

        if (!width1) {
          width1 = width1.substring(0, width1.length - 2);

        }
        if (event.detail < 0) {
          var temp1 = parseInt(height1) * 1.2;
          var temp2 = parseInt(width1) * 1.2;


        } else {
          var temp1 = parseInt(height1) / 1.2;
          var temp2 = parseInt(width1) / 1.2;
        }

        $("#showCt").attr("height", temp1 + "px");

        $("#showCt").attr("width", temp2 + "px");
      }
    }
    /*éFirefoxçš„ä¸»æµæµè§ˆå™¨*/
    function bbimg(o) {
      var zoom = parseInt(o.style.zoom, 10) || 100;
      zoom += event.wheelDelta / 12;
      if (zoom > 0) o.style.zoom = zoom + '%';
      return false;
    }

    /*åŒå‡»äº‹ä»¶å›¾ç‰‡å›åˆ°åŸå‹*/
    function realsize() {
      $("#showCt").attr("height", "191px");
      $("#showCt").attr("width", "140px;");
      $("#showCt").css("zoom", "100%");
      $("#block1").css("left", "0px");
      $("#block1").css("top", "0px");

    }

  </script>

  <script type="text/javascript">
    Sea('#btn_cartoon').on('click', function () {
      console.log("ç‚¹å‡»äº†æ·»åŠ è´´çº¸")
      // let x = document.querySelector('#block1').getAttribute("left");
      if (document.querySelector('#block1').offsetLeft == null) {
        alert("è¯·å…ˆé€‰æ‹©è´´çº¸")
      }
      let size = document.querySelector('#showCt').getAttribute("style")
      console.log("size", size)
      size = size.split(":")[3]
      console.log("size", size)
      if (size == undefined) {
        size = 100
      } else {
        size = size.split("%")[0]
        console.log("size", size)
      }
      let x = document.querySelector('#block1').getAttribute("style")
      if (x == null) {
        x = -60
      } else {
        x = x.split(";")[1]
        x = x.split(":")[1]
        x = x.split("p")[0]
      }
      console.log("x:", x)
      x = Number(x) + 280 + (144 - 144 * Number(size) / 100) / 2
      let y = document.querySelector('#block1').offsetTop + 20
      console.log("y:", y)
      if (x < 0) {
        x = 0
      }
      if (y < 0) {
        y = 0
      }
      if (x > 419) {
        x = 420
      }
      if (y > 185) {
        y = 185
      }
      // console.log("x:", x)
      // console.log("y:", y)
      Sea.Ajax({
        url: '/generator.cartoon',
        data: {
          x: x,
          y: y,
          size: size
        }
      }).then(res => {
        if (res == "ok") {
          let src = "../../image/resultPic/cartoon.jpg?t=" + Date.now()
          let html = `<img id="resultPic" src=${src} >`
          document.querySelector('#showPic').innerHTML = html
        }
        if (res == "0") {
          alert("è¯·å…ˆé€‰æ‹©è´´çº¸å›¾")
        }
      })


    })
  </script>

  <script type="text/javascript">
    Sea('#btn_words').on('click', function () {
      console.log("æŒ‰ä¸‹äº†æ·»åŠ æ–‡å­—æ¡†")
      let size = document.querySelector('#showWd').getAttribute("style")
      // console.log("size", size)
      size = size.split(":")[3]
      // console.log("size", size)
      if (size == undefined) {
        size = 100
        console.log("size", size)
      } else {
        size = size.split("%")[0]
        console.log("size", size)
      }

      let x = document.querySelector('#block2').getAttribute("style")
      if (x == null) {
        x = -60
      } else {
        x = x.split(";")[1]
        x = x.split(":")[1]
        x = x.split("p")[0]
      }
        console.log("x:", x)
        x = Number(x) + 280 + (144 - 144 * Number(size) / 100) / 2
        let y = document.querySelector('#block2').offsetTop + 20
        console.log("y:", y)
        if (x < 0) {
          x = 0
        }
        if (y < 0) {
          y = 0
        }
        if (x > 390) {
          x = 390
        }
        if (y > 185) {
          y = 185
        }
        // console.log("x:", x)
        // console.log("y:", y)
        Sea.Ajax({
          url: '/generator.words',
          data: {
            x: x,
            y: y,
            size: size
          }
        }).then(res => {
          if (res == "ok") {
            let src = "../../image/resultPic/cartoon.jpg?t=" + Date.now()
            let html = `<img id="resultPic" src=${src} >`
            document.querySelector('#showPic').innerHTML = html
          }
          if (res == "0") {
            alert("è¯·å…ˆé€‰æ‹©è´´çº¸å›¾")
          }
        })


      })
  </script>
</body>

</html>